{% extends "base.html" %}

{% block title %}Change Password - EPU{% endblock %}

{% block content %}
<div class="container section center">
  {% from 'components/macros.html' import page_hero, btn_row, notice %}
  {{ page_hero('Change Password', 'Enter a new password and confirm it. We\u2019ll send you a confirmation link by email.') }}
  <div class="card" style="max-width:520px;margin:0 auto;">
    {% if request.query_params.get('message') == 'sent' %}
      {{ notice('We\u2019ve sent a confirmation link to your email.', kind='success', attrs='style="margin-bottom:12px;"') }}
    {% elif request.query_params.get('message') == 'invalid' %}
      {{ notice('Please check your entries and try again.', kind='error', attrs='style="margin-bottom:12px;"') }}
    {% endif %}
    <form class="form" method="post" action="/profile/password">
      <input type="hidden" name="csrf_token" value="{{ csrf_token or '' }}" />
      <div class="floating-field">
        <label for="new_password" class="fl-label">New Password</label>
        <input class="input-field" type="password" id="new_password" name="new_password" required autocomplete="new-password">
      </div>
      <div class="floating-field">
        <label for="confirm_password" class="fl-label">Confirm New Password</label>
        <input class="input-field" type="password" id="confirm_password" name="confirm_password" required autocomplete="new-password">
      </div>
      {% call btn_row() %}
        <button class="btn primary" type="submit">Send confirmation</button>
        <a class="btn" href="/profile/edit">Back</a>
      {% endcall %}
    </form>
  </div>
</div>
{% endblock %}
