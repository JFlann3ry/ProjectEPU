{% extends "base.html" %}

{% block title %}Change Password - EPU{% endblock %}

{% block content %}
<div class="container section center">
  <div class="page-hero center">
    <h1 class="hero-title">Change Password</h1>
    <p class="hero-sub">Enter a new password and confirm it. We’ll send you a confirmation link by email.</p>
  </div>
  <div class="card" style="max-width:520px;margin:0 auto;">
    {% if request.query_params.get('message') == 'sent' %}
      <div class="notice success" style="margin-bottom:12px;">We’ve sent a confirmation link to your email.</div>
    {% elif request.query_params.get('message') == 'invalid' %}
      <div class="notice error" style="margin-bottom:12px;">Please check your entries and try again.</div>
    {% endif %}
    <form class="form" method="post" action="/profile/password">
      <input type="hidden" name="csrf_token" value="{{ csrf_token or '' }}" />
      <div class="floating-field">
        <label for="new_password" class="fl-label">New Password</label>
        <input class="input-field" type="password" id="new_password" name="new_password" required autocomplete="new-password">
      </div>
      <div class="floating-field">
        <label for="confirm_password" class="fl-label">Confirm New Password</label>
        <input class="input-field" type="password" id="confirm_password" name="confirm_password" required autocomplete="new-password">
      </div>
      <div class="btn-row">
        <button class="btn primary" type="submit">Send confirmation</button>
        <a class="btn" href="/profile/edit">Back</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
